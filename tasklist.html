<!doctype html>
<html>
<head>
<title>你的任务清单</title>
<link rel="stylesheet" href="css/reset.css">
    <!--[if lt IE 9]>
    <script>
        // html5shiv (lite) | @afarkas @jdalton @jon_neal @rem | MIT/GPL2

        // shiv elements on the document
        "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section subline summary time video".replace(/\w+/g, function (nodeName) {
            document.createElement(nodeName);
        });

        // prepend html5 styles to the document
        (function (element) {
            element.innerHTML = "x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section,subline,summary{display:block}audio,canvas,video{display:inline-block}audio:not([controls]){display:none;height:0}[hidden]{display:none}</style>";

            document.documentElement.insertBefore(element.lastChild, document.documentElement.firstChild);
        })(document.createElement("x"));
    </script>
    <![endif]-->
<style>

    h1{
        margin-top: 20px;
        margin-left: 150px;
        font-size: 20px;

    }
    footer{
        margin-left: -200px;
        width:400px;
        position: absolute;
        bottom: 60px;
        left:50%;
        font: 14px "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;;
    }
    #content {
        padding:10px;
        margin-left: 100px;

    }
    #content article{
        width:300px;
        height:540px;
        border: 1px solid #660066;
        position: relative;
        float: left;
    }
    nav h2{
        display: inline-block;
    }
    .delete-task{
        position: absolute;
        bottom:10px;
        right:5px;
    }
    article ul{
        width:100%;
        height:90%;
    }
    .delete-task:hover,.add-task:hover,.all-task:hover{
        cursor: pointer;
        background: #00cc66;
    }
    article h3{
        border: 1px dashed #660066;
    }
    footer span{
        

    }
</style>
    <script src="js/underscore-min.js"></script>
</head>

<body>
<h1>任务清单</h1>
<nav><h2 class="all-task">已有任务</h2><h2 class="add-task">新建任务</h2><h2 class="history-task">历史清单</h2></nav>
<section id="content"></section>

<footer> made  by aaa with <span>♥</span>,2015</footer>

<script src="js/jquery-1.9.1.js"></script>

<script>
    var fakeData=[{
        title:'需要买的东西',
        dept:'最近需要在网上买的东西',
        list:['口罩','U盘','键盘']
    },{},{}];
    $('.all-task').click(function(){
      var data=fakeData[0];
      var container=$('#content');
      var templateString='<article class="doing"><h3><%= task.title %></h3><p><%= task.dept %></p><ul><% _.each(task.list,function(v){\
                if(!(_.isArray(v))){ %><li><%= v %></li><% } })%></ul><span class="delete-task">删除任务</span></article>';
      var template= _.template(templateString);
      container.empty().append(template({task:data}));
      console.log(template({task:data}));
      data.forEach(function(v,i){

      })
    });
    $('.add-task').click(function(){
        var container=$('#content');
        var templateString='<article class="doing"><h3><%= task.title %></h3><p><%= task.dept %></p><ul><% _.each(task.list,function(v){\
                if(!(_.isArray(v))){ %><li><%= v %></li><% } })%></ul><a href="#" class="delete-task">删除任务</a></article>';
        var template= _.template(templateString);
        container.prepend(template({task:data}));
    });
    $('.delete-task').click(function(){

    })
</script>
</body>
</html>