<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>
router
</title>

  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<script>
var PageRouter={
  routes:[]
};

PageRouter.getArg = (function(){
	var url = window.location.href.toString();
	this.initState=url;
	var u = url.split("?");
	if(typeof(u[1]) == "string"){
			u = u[1].split("&");
			var get = {};
			for(var i in u){
					var j = u[i].split("=");
					get[j[0]] = j[1];
			}
			return get;
	} else {
			return {};
	}
})();
PageRouter.listen=function(){
 
  var fn=function(){
		if(!(window.location.href==this.initState)){
      
		}
	}
  
	clearInterval(this.interval);
  this.interval = setInterval(fn, 50);
};
console.log(PageRouter.getArg);
if(PageRouter.getArg.id==1){
  console.log(1);
}

PageRouter.add=function(link,fn){
  if(typeof link=='string'){
    this.routes.push({link:link,fn:fn})
	}
}
document.addEventListener('click',function(){
  history.pushState(null, null,'http://127.0.0.1/C:/Users/zhu/Documents/GitHub/test/routerAndHistory.html?id/1')
});
</script>
</body>
</html>